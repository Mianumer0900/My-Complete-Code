<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Grocery List</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="bg-light">
    <div class="container py-5">
      <h2 class="mb-4 text-center">Grocery List</h2>
      <div class="row">
        <div class="col-md-4"></div>
        <div class="col-md-4">
          <div class="input-group mb-3">
            <input
              type="text"
              id="groceryInput"
              class="form-control"
              placeholder="Add grocery item..."
            />
            <button id="addBtn" class="btn btn-primary">Add</button>
          </div>
          <ul id="groceryList" class="list-group mb-3"></ul>

          <div class="text-end fw-bold fs-5">
            Total Quantity: <span id="totalQty">0</span>
          </div>
        </div>
        <div class="col-md-4"></div>
      </div>
    </div>

    <script>
      var input = document.getElementById("groceryInput");
      var addBtn = document.getElementById("addBtn");
      var groceryList = document.getElementById("groceryList");
      var totalQuantity = document.getElementById("totalQty");

      var totalCount = 0;

      addBtn.addEventListener("click", () => {
        var itemName = input.value.trim();
        console.log(itemName);
        if (itemName == "") {
          alert("Please add Something");
        }

        var li = document.createElement("li");
        li.className =
          "list-group-item d-flex justify-content-between align-items-center";

        var nameSpan = document.createElement("span");
        nameSpan.textContent = itemName;

        var controls = document.createElement("div");
        controls.className = "d-flex align-items-center gap-2";

        var minusBtn = document.createElement("button");
        minusBtn.className = "btn btn-danger btn-sm";
        minusBtn.textContent = "-";

        var QuantitySpan = document.createElement("span");
        QuantitySpan.textContent = "1";
        QuantitySpan.className = "fw-bold";

        var plusBtn = document.createElement("button");
        plusBtn.className = "btn btn-success btn-sm";
        plusBtn.textContent = "+";

        var removeBtn = document.createElement("button");
        removeBtn.className = "btn btn-outline-secondary btn-sm";
        removeBtn.textContent = "Remove";

        controls.append(minusBtn, QuantitySpan, plusBtn, removeBtn);
        li.append(nameSpan, controls);
        groceryList.appendChild(li);

        totalCount++;
        updateTotal();

        plusBtn.addEventListener("click", () => {
          QuantitySpan.textContent = parseInt(QuantitySpan.textContent) + 1;
          totalCount++;
          updateTotal();
        });

        minusBtn.addEventListener("click", () => {
          QuantitySpan.textContent = parseInt(QuantitySpan.textContent) - 1;
          totalCount--;
          updateTotal();
        });

        removeBtn.addEventListener("click", () => {
          totalCount -= parseInt(QuantitySpan.textContent);
          li.remove();
          updateTotal();
        });

        input.value = "";
        input.focus();
      });

      var updateTotal = () => {
        totalQuantity.textContent = totalCount;
      };
    </script>
  </body>
</html>
